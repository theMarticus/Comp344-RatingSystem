-- MySQL Script generated by MySQL Workbench
-- 10/28/16 12:58:17
-- Model: Online Store Schema    Version: 1.0

-- Model online store schema for use in COMP344, "E-Commerce Technologies"

-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema store3.3
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema store3.3
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `store3.3` DEFAULT CHARACTER SET latin1 ;
USE `store3.3` ;

-- -----------------------------------------------------
-- Table `store3.3`.`Product`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Product` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Product` (
  `prod_id` INT NOT NULL AUTO_INCREMENT,
  `prod_name` VARCHAR(40) NOT NULL,
  `prod_desc` VARCHAR(128) NULL DEFAULT NULL,
  `prod_img_url` VARCHAR(128) NULL DEFAULT NULL,
  `prod_long_desc` VARCHAR(256) NULL DEFAULT NULL,
  `prod_sku` CHAR(16) NULL DEFAULT NULL,
  `prod_disp_cmd` VARCHAR(128) NULL DEFAULT NULL,
  `prod_weight` DECIMAL(6,2) NULL,
  `prod_l` INT NULL,
  `prod_w` INT NULL,
  `prod_h` INT NULL,
  PRIMARY KEY (`prod_id`),
  INDEX `prod_name` (`prod_name` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 8
DEFAULT CHARACTER SET = latin1
COMMENT = 'Key product information.';


-- -----------------------------------------------------
-- Table `store3.3`.`Attribute`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Attribute` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Attribute` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NULL DEFAULT NULL,
  `Product_prod_id` INT NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC),
  INDEX `fk_Attribute_Product1_idx` (`Product_prod_id` ASC),
  CONSTRAINT `fk_product_id`
    FOREIGN KEY (`Product_prod_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 5
DEFAULT CHARACTER SET = latin1
COMMENT = 'Product attribute name and type information';


-- -----------------------------------------------------
-- Table `store3.3`.`AttributeValue`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`AttributeValue` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`AttributeValue` (
  `AttrVal_id` INT NOT NULL AUTO_INCREMENT,
  `AttrVal_Value` VARCHAR(45) NOT NULL,
  `AttrVal_Attr_id` INT NOT NULL,
  `AttrVal_Prod_id` INT NOT NULL,
  `AttrVal_Price` DECIMAL(10,2) NULL,
  PRIMARY KEY (`AttrVal_id`),
  UNIQUE INDEX `id_UNIQUE` (`AttrVal_id` ASC),
  INDEX `fk_AttributeValue_Attribute_idx` (`AttrVal_Attr_id` ASC),
  INDEX `fk_Prod_id_idx` (`AttrVal_Prod_id` ASC),
  CONSTRAINT `fk_Attr_Id`
    FOREIGN KEY (`AttrVal_Attr_id`)
    REFERENCES `store3.3`.`Attribute` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Prod_id`
    FOREIGN KEY (`AttrVal_Prod_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = latin1
COMMENT = 'Product attribute value information.';


-- -----------------------------------------------------
-- Table `store3.3`.`Category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Category` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Category` (
  `cat_id` INT NOT NULL AUTO_INCREMENT,
  `cat_name` VARCHAR(40) NOT NULL,
  `cat_desc` VARCHAR(128) NULL DEFAULT NULL,
  `cat_img_url` VARCHAR(128) NULL DEFAULT NULL,
  `cat_disp_cmd` VARCHAR(128) NULL DEFAULT NULL,
  PRIMARY KEY (`cat_id`),
  INDEX `cat_name` (`cat_name` ASC),
  UNIQUE INDEX `cat_name_UNIQUE` (`cat_name` ASC))
ENGINE = InnoDB
AUTO_INCREMENT = 17
DEFAULT CHARACTER SET = latin1
COMMENT = 'Product category information for store catalogue.';


-- -----------------------------------------------------
-- Table `store3.3`.`CgPrRel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`CgPrRel` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`CgPrRel` (
  `Id` INT NOT NULL AUTO_INCREMENT,
  `CgPr_cat_id` INT NOT NULL,
  `CgPr_prod_id` INT NOT NULL,
  PRIMARY KEY (`Id`),
  INDEX `pk_parent_cat_idx` (`CgPr_cat_id` ASC),
  INDEX `pk_child_prod_idx` (`CgPr_prod_id` ASC),
  CONSTRAINT `pk_parent_cat`
    FOREIGN KEY (`CgPr_cat_id`)
    REFERENCES `store3.3`.`Category` (`cat_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `pk_child_prod`
    FOREIGN KEY (`CgPr_prod_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 7
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `store3.3`.`CgryRel`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`CgryRel` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`CgryRel` (
  `Id` INT NOT NULL AUTO_INCREMENT,
  `cgryrel_id_parent` INT NOT NULL,
  `cgryrel_id_child` INT NOT NULL,
  `cgryrel_sequence` INT NULL,
  PRIMARY KEY (`Id`),
  INDEX `pk_parent_cat_idx` (`cgryrel_id_parent` ASC),
  INDEX `pk_child_cat_idx` (`cgryrel_id_child` ASC),
  CONSTRAINT `fk_parent_cat`
    FOREIGN KEY (`cgryrel_id_parent`)
    REFERENCES `store3.3`.`Category` (`cat_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_child_cat`
    FOREIGN KEY (`cgryrel_id_child`)
    REFERENCES `store3.3`.`Category` (`cat_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 20
DEFAULT CHARACTER SET = latin1;


-- -----------------------------------------------------
-- Table `store3.3`.`ShopperGroup`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`ShopperGroup` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`ShopperGroup` (
  `ShopGrp_id` INT NOT NULL,
  `ShopGrp_Name` VARCHAR(45) NOT NULL,
  `ShopGrp_Description` VARCHAR(256) NULL,
  PRIMARY KEY (`ShopGrp_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`Shopper`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Shopper` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Shopper` (
  `shopper_id` INT NOT NULL AUTO_INCREMENT,
  `sh_username` VARCHAR(30) NOT NULL,
  `sh_password` CHAR(60) NOT NULL,
  `sh_email` VARCHAR(64) NOT NULL,
  `sh_phone` VARCHAR(45) NULL DEFAULT NULL,
  `sh_type` CHAR(1) NOT NULL,
  `sh_shopgrp` INT NULL DEFAULT NULL,
  `sh_field1` VARCHAR(128) NULL DEFAULT NULL,
  `sh_field2` VARCHAR(128) NULL DEFAULT NULL,
  PRIMARY KEY (`shopper_id`),
  INDEX `sh_username` (`sh_username` ASC),
  INDEX `fk_Shopper_ShopperGroup1_idx` (`sh_shopgrp` ASC),
  CONSTRAINT `fk_Shopper_ShopperGroup1`
    FOREIGN KEY (`sh_shopgrp`)
    REFERENCES `store3.3`.`ShopperGroup` (`ShopGrp_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 8
DEFAULT CHARACTER SET = latin1
COMMENT = 'Information about a registered shopper and or user.';


-- -----------------------------------------------------
-- Table `store3.3`.`Shaddr`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Shaddr` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Shaddr` (
  `shaddr_id` INT(11) NOT NULL AUTO_INCREMENT,
  `shopper_id` INT(11) NOT NULL,
  `sh_title` CHAR(8) NULL DEFAULT NULL,
  `sh_firstname` VARCHAR(20) NULL DEFAULT NULL,
  `sh_familyname` VARCHAR(30) NULL DEFAULT NULL,
  `sh_street1` VARCHAR(64) NULL DEFAULT NULL,
  `sh_street2` VARCHAR(64) NULL DEFAULT NULL,
  `sh_city` VARCHAR(32) NULL DEFAULT NULL,
  `sh_state` VARCHAR(8) NULL DEFAULT NULL,
  `sh_postcode` VARCHAR(10) NULL DEFAULT NULL,
  `sh_country` VARCHAR(32) NULL DEFAULT NULL,
  PRIMARY KEY (`shaddr_id`),
  INDEX `shopper_id` (`shopper_id` ASC),
  CONSTRAINT `fk_shopper_id`
    FOREIGN KEY (`shopper_id`)
    REFERENCES `store3.3`.`Shopper` (`shopper_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
AUTO_INCREMENT = 8
DEFAULT CHARACTER SET = latin1
COMMENT = 'A shopper can have multiple shipping or other addresses.';


-- -----------------------------------------------------
-- Table `store3.3`.`Order`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Order` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Order` (
  `Order_id` INT NOT NULL AUTO_INCREMENT,
  `Order_Shopper` INT NOT NULL,
  `Order_Shaddr` INT NOT NULL,
  `Order_TimeStamp` TIMESTAMP NULL,
  `Order_PayMethod` CHAR NULL,
  `Order_Payment_PAN` VARCHAR(20) NULL,
  `Order_PaymentAuthorized` TINYINT(1) NULL,
  `Order_Picked` TINYINT(1) NULL,
  `Order_Shipped` TINYINT(1) NULL,
  `Order_ShipDate` DATE NULL,
  `Order_Paid` TINYINT(1) NULL,
  `Order_PayDate` DATE NULL,
  `Order_ShippingAmount` DECIMAL(10,2) NULL,
  `Order_TaxAmount` DECIMAL(10,2) NULL,
  `Order_ProductAmount` DECIMAL(10,2) NULL,
  `Order_Total` DECIMAL(10,2) NULL,
  PRIMARY KEY (`Order_id`),
  INDEX `fk_Shopper_idx` (`Order_Shopper` ASC),
  INDEX `fk_Order_Shaddr_idx` (`Order_Shaddr` ASC),
  CONSTRAINT `fk_Shopper`
    FOREIGN KEY (`Order_Shopper`)
    REFERENCES `store3.3`.`Shopper` (`shopper_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Order_Shaddr`
    FOREIGN KEY (`Order_Shaddr`)
    REFERENCES `store3.3`.`Shaddr` (`shaddr_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`OrderProduct`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`OrderProduct` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`OrderProduct` (
  `OP_id` INT NOT NULL AUTO_INCREMENT,
  `OP_Order_id` INT NOT NULL,
  `OP_prod_id` INT NOT NULL,
  `OP_qty` INT NULL,
  PRIMARY KEY (`OP_id`),
  INDEX `fk_Order_has_Product_Product1_idx` (`OP_prod_id` ASC),
  INDEX `fk_OrderProduct_Order1_idx` (`OP_Order_id` ASC),
  CONSTRAINT `fk_OP_Product`
    FOREIGN KEY (`OP_prod_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OrderProduct_Order1`
    FOREIGN KEY (`OP_Order_id`)
    REFERENCES `store3.3`.`Order` (`Order_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`OrderProductAttributeValues`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`OrderProductAttributeValues` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`OrderProductAttributeValues` (
  `OPAttr_id` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `OPAttr_op_id` INT NOT NULL,
  `OPAttr_Attr_id` INT NOT NULL,
  `OPAttr_AttrVal_id` INT NOT NULL,
  PRIMARY KEY (`OPAttr_id`, `OPAttr_op_id`),
  INDEX `fk_Order_has_Product_has_AttributeValue_AttributeValue1_idx` (`OPAttr_AttrVal_id` ASC),
  INDEX `fk_Order_has_Product_has_AttributeValue_Order_has_Product1_idx` (`OPAttr_op_id` ASC),
  CONSTRAINT `fk_Order_has_Product_has_AttributeValue_Order_has_Product1`
    FOREIGN KEY (`OPAttr_op_id`)
    REFERENCES `store3.3`.`OrderProduct` (`OP_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Order_has_Product_has_AttributeValue_AttributeValue1`
    FOREIGN KEY (`OPAttr_AttrVal_id`)
    REFERENCES `store3.3`.`AttributeValue` (`AttrVal_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_OrderProductAttributeValues_Attribute1`
    FOREIGN KEY (`OPAttr_op_id`)
    REFERENCES `store3.3`.`Attribute` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`AccessGroup`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`AccessGroup` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`AccessGroup` (
  `AG_id` INT NOT NULL AUTO_INCREMENT,
  `AG_name` VARCHAR(45) NULL,
  `AG_desc` VARCHAR(255) NULL,
  PRIMARY KEY (`AG_id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`Commands`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Commands` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Commands` (
  `Cmd_id` INT NOT NULL AUTO_INCREMENT,
  `Cmd_name` VARCHAR(45) NULL,
  `Cmd_URL` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`Cmd_id`),
  UNIQUE INDEX `Cmd_id_UNIQUE` (`Cmd_id` ASC))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`AccessUserGroup`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`AccessUserGroup` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`AccessUserGroup` (
  `AUG_id` INT NOT NULL AUTO_INCREMENT,
  `AUG_Shopper_id` INT NOT NULL,
  `AUG_AG_id` INT NOT NULL,
  PRIMARY KEY (`AUG_id`),
  INDEX `fk_Shopper_id_idx` (`AUG_Shopper_id` ASC),
  INDEX `fk_AG_id_idx` (`AUG_AG_id` ASC),
  CONSTRAINT `fk__AUG_Shopper_id`
    FOREIGN KEY (`AUG_Shopper_id`)
    REFERENCES `store3.3`.`Shopper` (`shopper_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk__AUG_AG_id`
    FOREIGN KEY (`AUG_AG_id`)
    REFERENCES `store3.3`.`AccessGroup` (`AG_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
COMMENT = 'Maps a user to an access control group.';


-- -----------------------------------------------------
-- Table `store3.3`.`AccessGroupCommands`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`AccessGroupCommands` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`AccessGroupCommands` (
  `AGC_id` INT NOT NULL AUTO_INCREMENT,
  `AGC_AG_id` INT NOT NULL,
  `AGC_Cmd_id` INT NOT NULL,
  `AGC_desc` VARCHAR(255) NULL,
  PRIMARY KEY (`AGC_id`),
  INDEX `fk_Cmd_id_idx` (`AGC_Cmd_id` ASC),
  INDEX `fk_AG_id_idx` (`AGC_AG_id` ASC),
  CONSTRAINT `fk_AGC_AG_id`
    FOREIGN KEY (`AGC_AG_id`)
    REFERENCES `store3.3`.`AccessGroup` (`AG_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_AGC_Cmd_id`
    FOREIGN KEY (`AGC_Cmd_id`)
    REFERENCES `store3.3`.`Commands` (`Cmd_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`Session`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Session` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Session` (
  `id` CHAR(32) NOT NULL,
  `Shopper_id` INT NULL,
  `data` MEDIUMBLOB NULL,
  `time` TIMESTAMP NOT NULL,
  PRIMARY KEY (`id`),
  INDEX `idx_t` (`time` ASC),
  CONSTRAINT `fk_sess_shopper_id`
    FOREIGN KEY (`Shopper_id`)
    REFERENCES `store3.3`.`Shopper` (`shopper_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`Rating`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Rating` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Rating` (
  `Rating_id` INT NOT NULL,
  `Rating_Shopper_id` INT NULL,
  `Rating_Product_id` INT NULL,
  `Rating_Value` INT NULL,
  `Rating_Review` MEDIUMBLOB NULL,
  `Rating_Recommend` FLOAT NULL,
  PRIMARY KEY (`Rating_id`),
  INDEX `fk_Rvw_Shopper_id_idx` (`Rating_Shopper_id` ASC),
  INDEX `fk_Rvw_Product_id_idx` (`Rating_Product_id` ASC),
  CONSTRAINT `fk_Rvw_Shopper_id`
    FOREIGN KEY (`Rating_Shopper_id`)
    REFERENCES `store3.3`.`Shopper` (`shopper_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Rvw_Product_id`
    FOREIGN KEY (`Rating_Product_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`Stock`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Stock` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Stock` (
  `id` INT NOT NULL,
  `Stock_Prod_id` INT NULL,
  `Stock_Prod_AttrValue_id` INT NULL,
  `Stock_Qty` INT NULL,
  `Stock_SKU` VARCHAR(60) NULL,
  `Stock_Location` VARCHAR(60) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Stock_Prod_id_idx` (`Stock_Prod_id` ASC),
  INDEX `fk_Stock_ProdAttrValue_id_idx` (`Stock_Prod_AttrValue_id` ASC),
  CONSTRAINT `fk_Stock_Prod_id`
    FOREIGN KEY (`Stock_Prod_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Stock_ProdAttrValue_id`
    FOREIGN KEY (`Stock_Prod_AttrValue_id`)
    REFERENCES `store3.3`.`AttributeValue` (`AttrVal_Prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`Specials`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Specials` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Specials` (
  `id` INT NOT NULL,
  `Special_Product_id` INT NOT NULL,
  `Special_ProdAttrVal` INT NULL,
  `Special_ProdPrices_id` INT NULL,
  `Special_Start_Date` DATE NOT NULL,
  `Special_End_Date` DATE NOT NULL,
  `Special_Comment` VARCHAR(255) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Specials_Prod_id_idx` (`Special_Product_id` ASC),
  INDEX `fk_Specials_ProdAttrVal_id_idx` (`Special_ProdAttrVal` ASC),
  CONSTRAINT `fk_Specials_Prod_id`
    FOREIGN KEY (`Special_Product_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Specials_ProdAttrVal_id`
    FOREIGN KEY (`Special_ProdAttrVal`)
    REFERENCES `store3.3`.`AttributeValue` (`AttrVal_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`Log`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`Log` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`Log` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `Log_Shopper_id` INT NULL,
  `Log_Cmd_id` INT NULL,
  `Log_Cat_id` INT NULL DEFAULT NULL,
  `Log_Prod_id` INT NULL DEFAULT NULL,
  `Log_TimeStamp` TIMESTAMP NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_Shopper_id_idx` (`Log_Shopper_id` ASC),
  INDEX `fk_Log_Cmd_id_idx` (`Log_Cmd_id` ASC),
  INDEX `fk_Log_Cat_id_idx` (`Log_Cat_id` ASC),
  INDEX `fk_Log_Prod_id_idx` (`Log_Prod_id` ASC),
  CONSTRAINT `fk_Log_Shopper_id`
    FOREIGN KEY (`Log_Shopper_id`)
    REFERENCES `store3.3`.`Shopper` (`shopper_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Log_Cmd_id`
    FOREIGN KEY (`Log_Cmd_id`)
    REFERENCES `store3.3`.`Commands` (`Cmd_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Log_Cat_id`
    FOREIGN KEY (`Log_Cat_id`)
    REFERENCES `store3.3`.`Category` (`cat_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Log_Prod_id`
    FOREIGN KEY (`Log_Prod_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `store3.3`.`ProdPrices`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `store3.3`.`ProdPrices` ;

CREATE TABLE IF NOT EXISTS `store3.3`.`ProdPrices` (
  `PrPr_id` INT NOT NULL AUTO_INCREMENT,
  `PrPr_Prod_id` INT NOT NULL,
  `PrPr_ShopGrp` INT NOT NULL,
  `PrPr_Price` DECIMAL(10,2) NULL,
  INDEX `fk_ProdPrices_Product1_idx` (`PrPr_Prod_id` ASC),
  PRIMARY KEY (`PrPr_id`),
  INDEX `fk_Prod_ShGrp` (`PrPr_Prod_id` ASC, `PrPr_ShopGrp` ASC),
  CONSTRAINT `fk_ProdPrices_Product1`
    FOREIGN KEY (`PrPr_Prod_id`)
    REFERENCES `store3.3`.`Product` (`prod_id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;


/* Finsh Work beanch script */

/* Insert into Category */
insert into category values (1,'Store root category','Store root category',null,'DisplayCategory.php');
insert into category values (2,'Men''s Clothing','Clothing of all types - trousers, jackets, etc.',null,'DisplayCategory.php');
insert into category values (3,'Jeans','Jeans: Denim, cotton, etc.',null,'DisplayCategory.php');
insert into category values (4,'Denim Jeans','Denim jeans',null,'DisplayCategory.php');
insert into category values (5,'Boot cut jeans','Boot cut jeans',null,'DisplayProducts.php');
insert into category values (6,'Straight cut jeans','Straight cut jeans',null,'DisplayProducts.php');
insert into category values (7,'Shoes and boots','Shoes and boots','shoes.jpg','DisplayCategory.php');
insert into category values (8,'Computers','Computers','computers.jpg','DisplayCategory.php');
insert into category values (9,'Laptop computers','Laptop computers','laptop.jpg','DisplayProducts.php');
insert into category values (10,'Servers','Rackmount and tower servers','server.jpg','DisplayProducts.php');
insert into category values (11,'Shirts','Shirts of all kinds','shirts.jpg','DisplayCategory.php');
insert into category values (12,'Trousers','Trousers, jeans, shorts','trousers.jpg','DisplayCategory.php');
insert into category values (13,'Jackets','Sports jackets, blazers, etc.','jackets.jpg','DisplayCategory.php');
insert into category values (14,'Business shirts','Cotton and cotton blend business shirts','bshirt.jpg','DisplayCategory.php');
insert into category values (15,'Short-sleeved shirts','With collars and short sleeves','sshirt.jpg','DisplayCategory.php');
insert into category values (16,'T-shirts','Tees: plain and with designs','tshirt.jpg','DisplayCategory.php');

/* Insert into Product */
insert into PRODUCT values (1,'Null Product','Null product','null.jpg','Null product','NULL','DisplayProduct.php', 0, 0, 0, 0);
insert into PRODUCT values (2,'Levi 501','Levi 501 Classic Jeans','levi_501.jpg','You will look terrific in these classic blue denim jeans. Hard-wearing, but stylish, these durable pants always look smart, even when you''ve just gotten off your horse.','LEVI501','DisplayProduct.php', 0.12, 12, 36, 20);
insert into PRODUCT values (3,'Levi 504','Levi 504 Cord Jeans','levi_504.jpg','Light-weight corduroy is perfect for those hot summer days! Look cool and be cool. Available in blue, brown and black.','LEVI504','DisplayProduct.php', 0.13, 13, 37, 21);
insert into PRODUCT values (4,'Levi 502','Levi 502 Jeans','levi_502.jpg','The classic Levi look in black','LEVI502','DisplayProduct.php', 0.14, 14, 38, 22);
insert into PRODUCT values (5,'Wrangler CCOR','Wrangler Cowboy Cut Original Fit','wr_ccof.jpg','Available in blue and black, yadda, yadda, yadda','WRCCOF','DisplayProduct.php', 0.15, 15, 39, 23);
insert into PRODUCT values (6,'XKCD Stats Class Tee','The classic XKCD "Causality" t-shirt','xkcd-t.jpg','The classic XKCD cartoon now comes to a t-shirt near you! Available in blue only.','XKCDT','DisplayProduct.php', 0.16, 16, 40, 24);
insert into PRODUCT values (7,'IBM 306m','IBM X-Series 306m 1U Rack-mount server','306m.jpg','A 1U rack-mount server. Specify processor, RAM, storage, etc. below','IBM306M','DisplayProduct.php', 12.6, 70, 55, 40);

/* Insert into CgPrRel */
insert into CGPRREL values (1,5,2);
insert into CGPRREL values (2,5,4);
insert into CGPRREL values (3,6,3);
insert into CGPRREL values (4,5,5);
insert into CGPRREL values (5,16,6);
insert into CGPRREL values (6,10,7);

/* Insert into CgryRel */
insert into CGRYREL values (1,1,2,null);
insert into CGRYREL values (2,2,3,null);
insert into CGRYREL values (3,3,4,null);
insert into CGRYREL values (4,3,5,null);
insert into CGRYREL values (5,3,6,null);
insert into CGRYREL values (6,4,5,null);
insert into CGRYREL values (7,4,6,null);
insert into CGRYREL values (8,2,7,null);
insert into CGRYREL values (9,2,11,null);
insert into CGRYREL values (10,2,12,null);
insert into CGRYREL values (11,12,3,null);
insert into CGRYREL values (12,2,11,null);
insert into CGRYREL values (13,11,14,null);
insert into CGRYREL values (14,11,15,null);
insert into CGRYREL values (15,11,16,null);
insert into CGRYREL values (16,2,13,null);
insert into CGRYREL values (17,1,8,null);
insert into CGRYREL values (18,8,9,null);
insert into CGRYREL values (19,8,10,NULL);

/* Insert into Attribute */
insert into ATTRIBUTE values (1,'Colour', 2);
insert into ATTRIBUTE values (2, 'Waist', 2);
insert into ATTRIBUTE values (3, 'Size', 6);
insert into ATTRIBUTE values (4,'Colour', 6);
insert into ATTRIBUTE values (5,'CPU Speed', 7);
insert into ATTRIBUTE values (6, 'Bandwidth', 7);

/* ================================
Insert into AttributeValue
================================== */

/* Colours for Levi 501  */
insert into ATTRIBUTEVALUE values (DEFAULT, 'Blue', 1, 1, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Black', 1, 1, 5.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Grey', 1, 1, 5.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Burgundy', 1, 1, 5.00);

/* Waist Size for Levi 501 */
insert into ATTRIBUTEVALUE values (DEFAULT, '32', 2, 2, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, '34', 2, 2, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, '36', 2, 2, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, '38', 2, 2,  1.99);

/* Shirt size for XCSD tee */
insert into ATTRIBUTEVALUE values (DEFAULT, 'S', 3, 5, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'M', 3, 5, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'L', 3, 5, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'XL', 3, 5, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'XXL', 3, 5, 2.00);

/* Shirt colour for XCSD tee */
insert into ATTRIBUTEVALUE values (DEFAULT, 'Red', 4, 6, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Orange', 4, 6, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Yellow', 4, 6, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Green', 4, 6, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Blue', 4, 6, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'Black', 4, 6, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, 'White', 4, 6, 0.00);

/* CPU speed for IBM Series Server */
insert into ATTRIBUTEVALUE values (DEFAULT, '1.8 GHz', 5, 7, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, '2.4 GHz', 5, 7, 49.99);

/* Bandwidth for IBM Series Server */
insert into ATTRIBUTEVALUE values (DEFAULT, '3 GB', 6, 7, 0.00);
insert into ATTRIBUTEVALUE values (DEFAULT, '8.5 GB', 6, 7, 69.99);

/* Insert into ShopperGroup */
insert into SHOPPERGROUP values (1, 'Normal', 'This a normal shopper');
insert into SHOPPERGROUP values (2, 'Australian', 'This is a shopper from Australia. Please consider GST');
insert into SHOPPERGROUP values (3, 'Discounted', 'This is a shopper that gets a discount');

/* Shoppers */
insert into SHOPPER values(1, 'theShopper1', 'password', 'fake@fake.com', '045555555', '1', 1, 'stuff', 'stuff');
insert into SHOPPER values(2, 'theShopper2', 'password', 'fake@fake.com', '045555555', '1', 2, 'stuff', 'stuff');
insert into SHOPPER values(3, 'theShopper3', 'password', 'fake@fake.com', '045555555', '1', 3, 'stuff', 'stuff');

/* ProdPrices for Levi501 jeans */
insert into PRODPRICES values (DEFAULT, 2, 1, 35.99);
insert into PRODPRICES values (DEFAULT, 2, 2, 30.99);
insert into PRODPRICES values (DEFAULT, 2, 3, 25.99);

/* ProdPrices for IBM Server */
insert into PRODPRICES values (DEFAULT, 7, 1, 150.99);
insert into PRODPRICES values (DEFAULT, 7, 2, 140.99);
insert into PRODPRICES values (DEFAULT, 7, 3, 130.99);

/* ProdPrices for XCSD Tee */
insert into PRODPRICES values (DEFAULT, 6, 1, 24.99);
insert into PRODPRICES values (DEFAULT, 6, 2, 20.99);
insert into PRODPRICES values (DEFAULT, 6, 3, 15.99);
